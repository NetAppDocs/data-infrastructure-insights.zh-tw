---
sidebar: sidebar 
permalink: task_dashboard_example_VM_performance.html 
summary: 反白虛擬機器效能的儀表板範例。 
keywords: dashboard, widget, custom, example, virtual machine, vm, performance 
---
= 儀表板範例：虛擬機器效能
:hardbreaks:
:allow-uri-read: 


[role="lead"]
當今的 IT 營運面臨許多挑戰。管理員需要用更少的資源做更多的事情，並且必須全面了解您的動態資料中心。在此範例中，我們將向您展示如何建立一個帶有小部件的儀表板，該儀表板可讓您深入了解租戶上的虛擬機器 (VM) 效能的操作。透過遵循此範例並建立小部件來滿足您自己的特定需求，您可以執行諸如可視化後端儲存效能與前端虛擬機器效能的比較，或查看 VM 延遲與 I/O 需求等操作。

.關於此任務
在這裡，我們將建立一個虛擬機器效能儀表板，其中包含以下內容：

* 列出虛擬機器名稱和效能資料的表格
* 虛擬機器延遲與儲存延遲的比較圖表
* 顯示虛擬機器的讀取、寫入和總 IOPS 的圖表
* 顯示虛擬機器最大吞吐量的圖表


這只是一個基本的例子。您可以自訂儀表板來突出顯示和比較您選擇的任何效能數據，以便針對您自己的最佳操作實踐。

.步驟
. 以具有管理權限的使用者登入 Insight。
. 從*儀表板*選單中，選擇*[+新儀表板]*。
+
開啟“新儀表板”頁面。

. 在頁面頂部，輸入儀表板的唯一名稱，例如「按應用程式劃分的虛擬機器效能」。
. 按一下“*儲存*”以使用新名稱儲存儀表板。
. 讓我們開始添加我們的小部件。如有必要，請按一下“*編輯*”圖示以啟用編輯模式。
. 點擊“*新增小工具*”圖示並選擇“*表格*”以將新的表格小工具新增至儀表板。
+
將開啟“編輯小工具”對話框。顯示的預設資料適用於您的租用戶上的所有儲存。



image:VMDashboard-TableWidget1.png["編輯表格小工具對話框"]

. 我們可以自訂這個小部件。在頂部的名稱欄位中，刪除“Widget 1”並輸入“虛擬機器效能表”。
. 按一下資產類型下拉式功能表並將_儲存_變更為_虛擬機器_。
+
表格資料變更以顯示租戶上的所有虛擬機器。

. 讓我們在表中新增幾列。點擊右側的齒輪圖標，然後選擇_Hypervisor 名稱_、_IOPS - Total_ 和 _Latency - Total_。您也可以嘗試在搜尋中輸入名稱以快速顯示所需的欄位。
+
這些列現在顯示在表中。您可以按照其中任一列對表格進行排序。請注意，列按照它們添加到小部件的順序顯示。

. 在本練習中，我們將排除未主動使用的虛擬機，因此讓我們過濾掉任何總 IOPS 少於 10 的虛擬機。點選“Filter by”旁邊的“[+]”按鈕，然後選擇“IOPS - Total”。點擊“任意”並在“來自”欄位中輸入“10”。將「*to*」欄位留空。按一下篩選器欄位外或按 Enter 鍵來設定篩選器。
+
此表現在僅顯示總 IOPS 為 10 或更多的虛擬機器。

. 我們可以透過對結果進行分組來進一步折疊表格。點擊“Group by”旁邊的“*[+]*”按鈕，然後選擇要分組的字段，例如“_Application_”或“_Hypervisor name_”。自動套用分組。
+
表格行現在會根據您的設定進行分組。您可以根據需要展開或折疊組。分組行顯示每列的總計資料。某些列允許您選擇該列的總計方法。



image:VMDashboard-TableWidgetGroup.png["表格小部件分組範例"]

. 當您對表格小工具進行自訂以滿足您的滿意要求後，請按一下「[儲存]」按鈕。
+
表格小工具已儲存到儀表板。



您可以拖曳右下角來調整儀表板上小工具的大小。使小部件更寬以清晰地顯示所有列。按一下“*儲存*”以儲存目前儀表板。

接下來我們將添加一些圖表來顯示我們的 VM 效能。讓我們建立一個折線圖來比較 VM 延遲和 VMDK 延遲。

. 如有必要，請按一下儀表板上的「*編輯*」圖示以啟用編輯模式。
. 點擊*[新增小工具]*圖示並選擇_折線圖_以將新的折線圖小工具新增到儀表板。
. “編輯小工具”對話方塊開啟。將此小工具命名為“VM / VMDK Max Latency”
. 選擇*虛擬機器*並選擇_延遲 - 最大_。設定您想要的任何過濾器，或將「過濾依據」留空。對於*匯總*，選擇_全部_總計。將此資料顯示為_折線圖_，並將_Y 軸_保留為_主_。
. 點選*[+查詢]*按鈕新增第二條資料行。對於此行，選擇_VMDK_和_Latency - Max_。設定您想要的任何過濾器，或將「過濾依據」留空。對於*匯總*，選擇_全部_總計。將此資料顯示為_折線圖_，並將_Y 軸_保留為_主_。
. 按一下“[儲存]”將此小工具新增至儀表板。


image:VMDashboard-LineChartVMLatency.png["顯示延遲資料的折線圖"]

接下來，我們將新增一個圖表，在單一圖表中顯示 VM 讀取、寫入和總 IOPS。

. 按一下*[新增小工具]*圖示並選擇_區域圖_以將新的區域圖小工具新增至儀表板。
. 將開啟“編輯小工具”對話框。將此小工具命名為“VM IOPS”
. 選擇*虛擬機器*並選擇_IOPS - Total_。設定您想要的任何過濾器，或將*過濾依據*留空。對於*匯總*，選擇_全部_總計。將此資料顯示為_面積圖_，並將_Y 軸_保留為_主要_。
. 點選*[+查詢]*按鈕新增第二條資料行。對於此行，選擇*虛擬機器*並選擇_IOPS - 讀取_。
. 點選*[+查詢]*按鈕新增第三條資料行。對於此行，選擇*虛擬機器*並選擇_IOPS - 寫入_。
. 按一下「顯示圖例」可在儀表板上顯示此小工具的圖例。


image:VMDashboard-AreaChartVMIOPS.png["顯示虛擬機器 IOPS 的區域圖"]

. 按一下“[儲存]”將此小工具新增至儀表板。


接下來，我們將新增一個圖表，顯示與 VM 關聯的每個應用程式的 VM 吞吐量。為此，我們將使用 Roll Up 功能。

. 點擊*[新增小工具]*圖示並選擇_折線圖_以將新的折線圖小工具新增到儀表板。
. 將開啟“編輯小工具”對話框。將此小部件命名為“按應用程式劃分的虛擬機器吞吐量”
. 選擇虛擬機器並選擇吞吐量 - 總計。設定您想要的任何過濾器，或將「過濾依據」留空。對於匯總，選擇“最大”並透過“應用程式”或“名稱”進行選擇。顯示排名前 10 的應用程式。將此資料顯示為折線圖，並將 Y 軸保留為主要軸。
. 按一下“[儲存]”將此小工具新增至儀表板。


您可以按住小工具頂部任意位置的滑鼠按鈕並將其拖曳到新位置來移動儀表板上的小工具。

您可以拖曳右下角來調整小部件的大小。

進行更改後，請務必*[儲存]*儀表板。

您的最終 VM 效能儀表板將如下所示：

image:VMDashExample1.png["VM 儀表板完整範例，顯示所有小工具"]
