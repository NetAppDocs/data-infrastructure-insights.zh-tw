---
sidebar: sidebar 
permalink: task_dc_hpe_commandview.html 
keywords: data collector, HP Command View, HP, CVAE 
summary: 配置 HP Enterprise Command View 資料收集器。 
---
= HP Enterprise Command View 資料收集器
:hardbreaks:
:allow-uri-read: 


[role="lead"]
HP Enterprise Command View Advanced Edition 資料收集器支援透過 Command View Advanced Edition (CVAE) 伺服器發現 XP 和 P9500 陣列。  Data Infrastructure Insights使用標準 Command View API 與 CVAE 通訊以收集庫存和效能資料。



== 術語

Data Infrastructure Insights從 HP Enterprise Command View 資料收集器取得以下庫存資訊。對於Data Infrastructure Insights取得的每種資產類型，都會顯示用於該資產的最常用術語。當查看或排除此資料收集器的故障時，請記住以下術語：

[cols="2*"]
|===
| 供應商/型號術語 | Data Infrastructure Insights術語 


| PDEV | 磁碟 


| 期刊池 | 磁碟組 


| 儲存陣列 | 儲存 


| 連接埠控制器 | 儲存節點 


| 陣列組、DP池 | 儲存池 


| 邏輯單元，LDEV | 體積 
|===
注意：這些只是常見的術語映射，可能並不代表此資料收集器的所有情況。



== 庫存要求

為了收集庫存數據，您必須具備以下條件：

* CVAE 伺服器的 IP 位址
* CVAE 軟體的唯讀使用者名稱和密碼以及同儕權限
* 連接埠需求：2001




== 性能要求

為了收集性能數據，必須滿足以下要求：

* HDS USP、USP V 和 VSP 性能
+
** 效能監視器必須獲得許可。
** 必須開啟監控開關。
** 必須將匯出工具（Export.exe）複製到Data Infrastructure InsightsAU 並提取到某個位置。在 CI Linux AU 上，確保「cisys」具有讀取和執行權限。
** 匯出工具版本必須與目標陣列的微碼版本相符。


* AMS效能：
+
** 效能監視器必須獲得許可。
** 儲存導航器模組 2 (SNM2) CLI 公用程式安裝在Data Infrastructure InsightsAU 上。


* 網路需求
+
** 匯出工具基於 Java，並使用 RMI 與陣列對話。這些工具可能不適合防火牆，因為它們可能在每次呼叫時動態協商來源和目標 TCP 連接埠。此外，不同型號陣列的匯出工具在網路上的行為可能有所不同 - 請諮詢 HPE 以了解您的型號的要求






== 配置

[cols="2*"]
|===
| 場地 | 描述 


| Command View 伺服器 | Command View 伺服器的 IP 位址或完全限定域名 


| 使用者名稱 | Command View 伺服器的使用者名稱。 


| 密碼 | Command View 伺服器使用的密碼。 


| 設備 - VSP G1000 (R800)、VSP (R700)、HUS VM (HM700) 和 USP 存儲 | VSP G1000 (R800)、VSP (R700)、HUS VM (HM700) 和 USP 儲存的設備清單。每個儲存都需要：* 陣列的 IP：儲存的 IP 位址* 使用者名稱：儲存的使用者名稱* 密碼：儲存的密碼* 包含匯出實用程式 JAR 檔案的資料夾 


| SNM2Devices - WMS/SMS/AMS 存儲 | WMS/SMS/AMS 儲存的設備清單。每個儲存都需要：* 陣列的 IP：儲存的 IP 位址* 儲存導航器 CLI 路徑：SNM2 CLI 路徑* 帳戶驗證有效：選擇以選擇有效的帳戶驗證* 使用者名稱：儲存的使用者名稱* 密碼：儲存的密碼 


| 選擇效能調優管理器 | 覆蓋其他效能選項 


| 調優管理器主機 | 調優管理員的 IP 位址或完全限定域名 


| 調優管理器端口 | 用於調整管理器的端口 


| 調優經理用戶名 | 調優管理器的使用者名 


| 調優管理員密碼 | 調優管理員密碼 
|===
注意：在 HDS USP、USP V 和 VSP 中，任何磁碟都可以屬於多個陣列組。



== 進階配置

|===


| 場地 | 描述 


| Command View 伺服器端口 | Command View 伺服器使用的端口 


| 已啟用 HTTPS | 選擇啟用 HTTPS 


| 庫存輪詢間隔（分鐘） | 庫存調查之間的間隔。預設值為 40。 


| 選擇“排除”或“包含”來指定列表 | 指定收集資料時是否包含或排除以下數組清單。 


| 排除或包含設備 | 要包含或排除的裝置 ID 或陣列名稱的逗號分隔列表 


| 查詢主機管理員 | 選擇查詢主機管理員 


| 效能輪詢間隔（秒） | 效能輪詢之間的間隔。預設值為 300。 
|===


== 故障排除

如果您在使用此資料收集器時遇到問題，請嘗試以下操作：



=== 存貨

[cols="2*"]
|===
| 問題： | 試試一下： 


| 錯誤：使用者沒有足夠的權限 | 使用具有更多權限的其他使用者帳戶或增加資料收集器中配置的使用者帳戶的權限 


| 錯誤：儲存列表為空。設備未配置或使用者沒有足夠的權限 | * 使用 DeviceManager 檢查設備是否已設定。  * 使用其他具有更多權限的使用者帳戶，或增加使用者帳戶的權限 


| 錯誤：HDS 儲存陣列幾天未刷新 | 調查為什麼此陣列未在 HP CommandView AE 中刷新。 
|===


=== 表現

[cols="2*"]
|===
| 問題： | 試試一下： 


| 錯誤：* 執行匯出實用程式時發生錯誤 * 執行外部命令時發生錯誤 | * 確認匯出公用程式已安裝在Data Infrastructure Insights擷取單元上 * 確認匯出公用程式在資料收集器設定中的位置正確 * 確認 USP/R600 陣列的 IP 在資料收集器的設定中正確 * 確認使用者名稱與密碼在Data Infrastructure Insights器的設定中正確 * 確認匯出公用程式嘗試透過執行批次檔 runWin.bat 與設定的儲存陣列建立連接 


| 錯誤：目標 IP 的匯出工具登入失敗 | * 確認使用者名稱/密碼正確 * 建立一個主要為此 HDS 資料收集器的使用者 ID * 確認沒有配置其他資料收集器來取得此陣列 


| 錯誤：匯出工具記錄「無法取得監控的時間範圍」。 | * 確認陣列上已啟用效能監控。  * 嘗試呼叫Data Infrastructure Insights以外的匯出工具來確認問題出在Data Infrastructure Insights之外。 


| 錯誤：* 設定錯誤：匯出實用程式不支援儲存陣列 * 設定錯誤：儲存導航器模組化 CLI 不支援儲存陣列 | * 僅配置支援的儲存陣列。  * 使用「過濾設備清單」排除不支援的儲存陣列。 


| 錯誤：* 執行外部命令時發生錯誤 * 配置錯誤：Inventory 未報告儲存陣列 * 配置錯誤：匯出資料夾不包含 jar 檔案 | * 檢查匯出實用程式位置。  * 檢查 Command View 伺服器中是否配置了有問題的儲存陣列 * 將效能輪詢間隔設定為 60 秒的倍數。 


| 錯誤：* 儲存導航器 CLI 錯誤 * 執行 auperform 指令時發生錯誤 * 執行外部指令時發生錯誤 | * 確認儲存導航器模組化 CLI 已安裝在Data Infrastructure Insights擷取單元上 * 確認儲存導航器模組化 CLI 在資料收集器設定中的位置正確 * 確認資料收集器的設定中 WMS/SMS/SMS 陣列的 IP 正確 * 確認儲存導航器模組化 CLI 版本與資料收集器的設定中 WMS/SMS/SMS 陣列的Data Infrastructure Insights* 確認儲存導航器模組化 CLI 版本與資料收集嘗試透過執行以下命令“auunitref.exe”與配置的儲存陣列建立連接 


| 錯誤：設定錯誤：庫存未報告儲存陣列 | 檢查相關儲存陣列是否已在 Command View 伺服器中配置 


| 錯誤：* 沒有陣列在 Storage Navigator Modular 2 CLI 中註冊 * 陣列未在 Storage Navigator Modular 2 CLI 中註冊 * 配置錯誤：儲存陣列未在 StorageNavigator Modular CLI 中註冊 | * 開啟命令提示字元並將目錄變更為配置的路徑 * 執行命令「set=STONAVM_HOME=」。  * 運行命令“auunitref” * 確認命令輸出包含帶有 IP 的陣列詳細信息 * 如果輸出不包含陣列詳細信息，則使用 Storage Navigator CLI 註冊陣列： - 打開命令提示符並將目錄更改為配置的路徑 - 運行命令“set=STONAVM_HOME=”。 - 執行指令「auunitaddauto -ip ${ip}」。將${ip}替換為真實IP 
|===
更多資訊可從link:concept_requesting_support.html["支援"]頁面或在link:reference_data_collector_support_matrix.html["數據收集器支援矩陣"]。
