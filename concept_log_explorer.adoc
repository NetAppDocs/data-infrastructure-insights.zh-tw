---
sidebar: sidebar 
permalink: concept_log_explorer.html 
keywords: logs, monitors, alerts, EMS, 
summary: 記錄瀏覽器是一項功能強大的工具、可透過不同的系統記錄來調查問題。 
---
= 記錄檔案總管
:toc: macro
:hardbreaks:
:toclevels: 1
:allow-uri-read: 
:toc: 
:toclevels: 1
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/
:toc-position: content


[role="lead"]
Data Infrastructure Insights Log Explorer 是查詢系統記錄的強大工具。除了協助調查之外、您也可以將記錄查詢儲存在監控器中、以便在特定記錄觸發程序啟動時提供警示。

若要開始探索記錄、請按一下 * 記錄查詢 > + 新記錄查詢 * 。

從清單中選取可用的記錄。

image:LogExplorer_2022.png["選擇您的記錄"]


NOTE: 可供查詢的記錄類型可能會因您的環境而異。隨時間推移、可能會新增其他記錄類型。

您可以設定篩選條件、進一步精簡查詢結果。例如、若要尋找所有顯示失敗的記錄訊息、請為包含「失敗」一詞的_Messages設定篩選器。


TIP: 您可以開始在篩選欄位中輸入所需的文字； Data Infrastructure Insights 會提示您在輸入時建立包含字串的萬用字元搜尋。

結果會顯示在圖表中、顯示每個顯示時段的記錄執行個體數目。圖表下方是記錄項目的範本。圖表和項目會根據選取的時間範圍自動重新整理。

image:LogExplorer_QueryForFailed.png["顯示篩選器的查詢範例"]



== 篩選



=== 包括 / 排除

篩選記錄時、您可以選擇 * 包含 * （即「篩選至」）或 * 排除 * 您輸入的字串。排除的字串會在完整的篩選中顯示為「 Not <string> 」。

image:Log_Advanced_Query_Filter_Exclude.png["顯示「排除」選項的記錄篩選器"]

根據萬用字元或運算式（例如 「Not」（不）、或「None」（無）等）會在篩選欄位中以深藍色顯示。您直接從清單中選取的項目會以淺藍色顯示。


NOTE: 在任何時候、您都可以按一下「建立記錄監視器」、以根據目前的篩選器建立新的監視器。



=== 進階篩選

當您在查詢或儀表板小工具中篩選文字或清單值時、在您開始輸入時、系統會顯示根據目前文字建立*萬用字元篩選器*的選項。選取此選項會傳回符合萬用字元運算式的所有結果。您也可以使用 not 、 and 、 or 或建立運算式、或選取「無」選項來篩選 Null 值。


NOTE: 建立篩選時、請務必及早且經常儲存查詢。進階查詢是「自由格式」字串項目、您建置時可能會發生剖析錯誤。

請查看此畫面影像、其中顯示 _logs.Kubernetes.event_ 記錄的進階查詢篩選結果。本頁有許多內容、請參閱下圖說明：

image:Log_Advanced_Query_ScreenExplained.png["說明「進階查詢」畫面"]

. 此進階查詢字串篩選器適用於下列項目：
+
** 篩選記錄項目、並以包含「失敗」一詞的 _ 理由 _ 、但不包含「失敗掛載」的特定原因。
** 請加入其中任何一項、包括 _metadata.namespace_ 、包括「監控」一詞、但不包括「 cm-monitoring 」或「 eg-monitoring 」的特定命名空間。
+
請注意、在上述情況下、由於「 cm-monitoring 」和「 eg-monitoring 」都包含破折號（ "-" ）、因此字串必須包含在雙引號中、否則將會顯示剖析錯誤。不包含破折號、空格等的字串不需要括在引號中。如果有疑問、請嘗試將字串放在引號中。



. 目前篩選的結果、包括任何「篩選依據」值和「進階查詢」篩選器、都會顯示在結果清單中。清單可依任何顯示的欄排序。若要顯示其他欄、請選取「齒輪」圖示。
. 圖表已放大、僅顯示在特定時間範圍內發生的記錄結果。此處顯示的時間範圍會反映目前的縮放等級。選取「重設縮放比例」按鈕、將縮放比例設回目前的 Data Infrastructure Insights 時間範圍。
. 圖表結果已依 _ 來源 _ 欄位分組。圖表會以色彩分組的方式顯示每一欄的結果。將游標移至圖表中的某一欄、將會顯示特定項目的一些詳細資料。
+
image:Log_Advanced_Query_Group_Detail.png["群組 Hover 詳細資料"]





==== 精簡篩選條件

您可以使用下列項目來精簡篩選條件：

|===


| 篩選器 | 它的作用 


| *（星號） | 可讓您搜尋所有內容 


| ？（問號） | 可讓您搜尋特定字元數 


| 或 | 可讓您指定多個實體 


| 不是 | 可讓您從搜尋結果中排除文字 


| _無_ | 在所有欄位中搜尋空值 


| 不是* | 在_純文字_欄位中搜尋空值 
|===
如果您以雙引號括住篩選字串、Insight會將第一個和最後一個報價之間的所有內容視為完全相符。報價內的任何特殊字元或運算子都將視為文字。例如、篩選「*」會傳回文字星號的結果；在此情況下、星號不會視為萬用字元。在雙引號中加上運算子OR和not時、也會被視為字串。

您可以將簡單篩選與進階查詢篩選器結合、結果篩選器是兩者的「 AND 」。



=== 圖表圖例

圖表下方的 _ 圖例 _ 也有一些驚喜。對於圖例中顯示的每個結果（根據目前的篩選條件）、您可以選擇僅顯示該行的結果（新增篩選器）、或顯示該行以外的任何結果（新增排除篩選器）。圖表和記錄項目清單會更新、以根據您的選擇顯示結果。若要移除此篩選、請再次開啟圖例、然後選取 [X] 以清除以圖例為基礎的篩選。

image:Log_Advanced_Query_Legend.png["針對第一個結果顯示「新增篩選器」的進階查詢圖例"]



== 記錄詳細資料

按一下清單記錄項目中的任何位置、就會開啟該項目的詳細資料窗格。您可在此深入瞭解活動相關資訊。

按一下「新增篩選器」、將選取的欄位新增至目前的篩選器。記錄項目清單將會根據新的篩選器進行更新。

請注意、有些欄位無法新增為篩選條件、在這些情況下、 _Add Filter_ 圖示無法使用。

image:LogExplorer_DetailPane.png["記錄項目詳細資料窗格"]



== 疑難排解

您可在此處找到有關疑難排解記錄查詢問題的建議。

|===


| *問題：* | *試用：* 


| 我在記錄查詢中沒有看到「偵錯」訊息 | 不會收集除錯記錄訊息。若要擷取您想要的訊息、請將相關訊息嚴重性變更為資訊、錯誤、警示、緊急、_或_notes_層級。 
|===