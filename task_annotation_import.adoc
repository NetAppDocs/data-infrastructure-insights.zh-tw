---
sidebar: sidebar 
permalink: task_annotation_import.html 
keywords: annotations, import, api 
summary: 您可以使用Data Infrastructure InsightsAPI 匯入註釋和應用程式。 
---
= 導入註釋
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Data Infrastructure Insights包括一個 API，用於從 CSV 檔案匯入註釋或應用程序，並將它們指派給您指定的物件。


NOTE: Data Infrastructure InsightsAPI 在 *Data Infrastructure Insights高級版* 中可用。



== 輸入

*管理 > API 存取* 連結包含link:API_Overview.html["文件"]用於*Assets/Import* API。本文檔包含有關 .CSV 文件格式的資訊。

image:api_assets_import.png["導入 API"]



== .CSV 檔案格式

CSV檔案的一般格式如下。該文件的第一行定義導入欄位並指定欄位的順序。接下來是每個註解或應用程式的單獨行。您不需要定義每個欄位。但是，後續註解行必須遵循與定義行相同的順序。

 [Object Type] , [Object Name or ID] , Annotation Type [, Annotation Type,  ...] [, Application] [, Tenant] [, Line_Of_Business] [, Business_Unit] [, Project]
有關 .CSV 檔案的範例，請參閱 API 文件。

您可以從 API swagger 內部的 .CSV 檔案匯入和指派註解。只需選擇要使用的檔案並點擊“執行”按鈕：

image:api_assets_import_assign.png["導入和分配"]



== 導入行為

在匯入作業期間，將根據匯入的物件和物件類型新增、合併或取代資料。導入時，請記住以下行為。

* 如果目標系統中不存在同名的註釋或應用程序，則添加一個。
* 如果註釋類型是列表，且目標系統中存在同名註釋，則合併註釋。
* 如果註釋類型不是列表，且目標系統中存在同名註釋，則會取代註釋。
+
注意：如果目標系統中存在同名但類型不同的註釋，則匯入失敗。如果物件依賴失敗的註釋，則這些物件可能會顯示不正確或不必要的資訊。導入操作完成後，必須檢查所有註釋相依性。

* 如果註釋值為空，則該註釋將從物件中刪除。繼承的註解不受影響。
* 日期類型註釋值必須以毫秒為單位的 unix 時間傳入。
* 當註解磁碟區或內部磁碟區時，物件名稱是使用「\->」分隔符號的儲存名稱和磁碟區名稱的組合。例如：_<儲存名稱>\-><磁碟區名稱>_
* 如果物件名稱包含逗號，則整個名稱必須用雙引號引起來。例如：_“NetApp1,NetApp2”\->023F_
* 當將註解附加到儲存、交換器和連接埠時，「應用程式」欄位將被忽略。
* 租戶、業務線、業務單位和/或項目構成一個業務實體。與所有業務實體一樣，任何值都可以為空。


可以註釋以下物件類型。

|===


| 物件類型 | 名稱或密鑰 


| 主持人 | id\-><id> 或 <姓名> 或 <IP> 


| 虛擬機 | id\-><id> 或 <Name> 


| 儲存池 | id\-><id> 或 <儲存名稱>\-><儲存池名稱> 


| 內部容積 | id\-><id> 或 <儲存名稱>\-><內部磁碟區名稱> 


| 體積 | id\-><id> 或 <儲存名稱>\-><磁碟區名稱> 


| 儲存 | id\-><id> 或 <姓名> 或 <IP> 


| 轉變 | id\-><id> 或 <姓名> 或 <IP> 


| 港口 | id\-><id> 或 <WWN> 


| qtree | id\-><id> 或 <儲存名稱>\-><內部磁碟區名稱>\-><Qtree 名稱> 


| 分享 | id\-><id> 或 <儲存名稱>\-><內部磁碟區名稱>\-><共用名稱>\-><協定>[\-><Qtree 名稱（如果是預設 Qtree，則為可選）>] 
|===